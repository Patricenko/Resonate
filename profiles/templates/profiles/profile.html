{% extends "base.html" %}
{% block title %}{{ profile.name }} - Profile | Dinter{% endblock %}

{% block content %}
<div class="profile-fullscreen">

  <!-- Left: Profile Photo -->
  <div class="profile-photo"
       style="
         background-image: url('{% if profile.profile_photo %}{{ profile.profile_photo.url }}{% else %}/static/images/default-avatar.jpg{% endif %}');
         background-position: center;
         background-size: cover;
         aspect-ratio: 1 / 1;
       ">
  </div>

  <!-- Right: Profile Info -->
  <div class="profile-info">
    <h1 class="text-pink">{{ profile.name }}</h1>

    {% if profile.bio %}
      <p class="subtext">{{ profile.bio }}</p>
    {% endif %}

    <ul class="profile-details-list">
      <li><strong>Username:</strong> {{ profile.user.username }}</li>
      <li><strong>Gender:</strong> {{ profile.get_gender_display }}</li>
      <li><strong>Age:</strong> {{ profile.age }}</li>
      <li><strong>Height:</strong> {{ profile.height }} cm</li>
      <li><strong>Location:</strong> {{ profile.location }}</li>
      <li><strong>Preferred Gender:</strong> {{ profile.get_preferred_gender_display }}</li>
      <li><strong>Preferred Age Range:</strong> {{ profile.preferred_age_min }}â€“{{ profile.preferred_age_max }}</li>
      <li><strong>Public Profile:</strong> {{ profile.is_public|yesno:"Yes,No" }}</li>
    </ul>

    {% if interests_list %}
      <div class="mt-4">
        <strong>Interests:</strong>
        <div class="interest-bubbles mt-2">
          {% for interest in interests_list %}
            <span class="interest-bubble">{{ interest }}</span>
          {% endfor %}
        </div>
      </div>
    {% endif %}

    {% if profile.audio_bio %}
      <div class="audio-bio mt-4">
        <audio controls>
          <source src="{{ profile.audio_bio.url }}" type="audio/mpeg">
          Your browser does not support the audio element.
        </audio>
      </div>
    {% endif %}

    {% if profile.social_links %}
      <div class="mt-4">
        <strong>Social Links:</strong>
        <ul class="profile-details-list">
          {% for key, value in profile.social_links.items %}
            <li><strong>{{ key|title }}:</strong> <a href="{{ value }}" target="_blank">{{ value }}</a></li>
          {% endfor %}
        </ul>
      </div>
    {% endif %}
  </div>

</div>
{% endblock %}
